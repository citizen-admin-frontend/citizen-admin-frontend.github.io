import{g as d,v as p,s as E,I as c}from"./ui.popup.33d3fbb4.js";const m=async t=>{let r=await d(c,t);return r.forEach(a=>{let e=a.user;a.userName=`${e.name} ${e.lastName}`}),r},S=async(t,r,a)=>{let e=t||1,s=new Date(a,r,t!=e?e:t),o=new Date(a,r+1,0);console.log({dateStart:s,dateEnd:o});let n=[{field:"registerDate",operator:">=",value:s},{field:"registerDate",operator:"<=",value:o}],i=[{name:"OPEN",color:"#03A9F0",des:"Abierto"},{name:"IN_PROCESS",color:"#8bc34a",des:"En Proceso"},{name:"CLOSED",color:"#333",des:"Cerrado"},{name:"REJECTED",color:"#f44336",des:"Rechazado"}];return(await m(n)).map(u=>(u.statusDes=i.filter(l=>l.name==u.status).pop(),u.statusDes=u.statusDes?u.statusDes.des:"",u))},h=async t=>{t.id||(t.active=!0),p(t,[{name:"sector",descripcion:"Sector",required:!0},{name:"status",descripcion:"Estado",required:!0},{name:"type",descripcion:"Tipo",required:!0},{name:"user",descripcion:"Usuario",required:!0}]),await E(c,t)},q=t=>{let r=[];return t.forEach(a=>{let e=r.filter(s=>s.sector==a.sector).pop();e?e[a.status]?e[a.status]=e[a.status]+1:e[a.status]=1:(e={},e.sector=a.sector,e[a.status]=1,r.push(e))}),r},y=t=>{let r=[];t.forEach(e=>{let s=r.filter(o=>o.status==e.status).pop();s?s.qty=s.qty+1:(s={},s.status=e.status,s.qty=1,r.push(s))});let a=[{name:"OPEN",color:"#03A9F0",des:"Abiertos"},{name:"IN_PROCESS",color:"#8bc34a",des:"En Proceso"},{name:"CLOSED",color:"#333",des:"Cerrados"},{name:"REJECTED",color:"#f44336",des:"Rechazados"}];return r.forEach(e=>{let s=a.filter(o=>o.name==e.status).pop();e.color=s.color,e.des=s.des}),r};export{S as a,q as b,y as c,m as l,h as s};
