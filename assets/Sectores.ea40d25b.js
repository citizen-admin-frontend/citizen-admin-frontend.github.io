import{s as P,l as C}from"./Sectors.5160b736.js";import{D as G,a as S,_ as T,g as k,n as u}from"./notify.849dcf7b.js";import"./Validator.e0ff0691.js";import{D as V,a as y,b as F,c as I,d as R,e as A,f as N,g as H,h as z,i as U,j as M,k as $,_ as j,l as q}from"./scroll-view.0ca84e0b.js";import{_ as E}from"./check-box.73ceba0b.js";import{_ as J,r as o,o as K,c as L,a as e,w as a,b as l,aq as O}from"./index.35390bee.js";import"./format_helper.43b668f3.js";const Q={components:{DxDataGrid:V,DxColumn:y,DxFilterRow:F,DxGrouping:I,DxGroupPanel:R,DxSearchPanel:A,DxHeaderFilter:N,DxScrolling:H,DxGridToolbar:z,DxItem:U,DxSelectBox:M,DxGridButton:$,DxPopup:G,DxToolbarItem:S,DxTextBox:T,DxButton:j,DxScrollView:q,DxCheckBox:E},data:()=>({showPopup:!1,crudTitle:"Detalle de Sector",items:[],model:{type:{}},newPassword:null}),mounted(){this.listAll()},methods:{create(){k(),this.model={active:!0},this.showPopup=!0},onClosePopup(){this.showPopup=!1},async save(){try{await P(newModel),newModel.id&&(u("Registro guardado con \xE9xito","success",3e3),this.listAll(),this.showPopup=!1)}catch(t){console.log(t.message),u(t,"error",4e3)}},showDetail(t){this.model=t,this.newPassword=null,this.showPopup=!0},async listAll(t){this.items=await C(t)}}},W={style:{padding:"10px",width:"100vw","box-sizing":"border-box"}},X=l("label",{style:{"font-size":"1.2em","margin-bottom":"5px"}},"Sectores",-1),Y=["onClick"],Z=l("i",{class:"dx-icon-doc"},null,-1),ee={class:"dx-field"},oe=l("div",{class:"dx-field-label"},"Nombre",-1),te={class:"dx-field-value"},le={class:"dx-field"},ae=l("div",{class:"dx-field-label"},"Activo",-1),se={class:"dx-field-value"};function ne(t,i,ie,re,de,s){const x=o("DxFilterRow"),p=o("DxHeaderFilter"),m=o("DxSearchPanel"),_=o("DxScrolling"),D=o("DxGroupPanel"),r=o("DxColumn"),d=o("DxItem"),h=o("DxGridToolbar"),c=o("DxButton"),f=o("DxDataGrid"),w=o("DxTextBox"),b=o("DxCheckBox"),v=o("DxScrollView"),g=o("DxToolbarItem"),B=o("DxPopup");return K(),L("div",W,[X,e(f,{id:"dataGrid",ref:"dataGridRef","data-source":t.items,"key-expr":"id","show-borders":!0,height:"calc(100vh - 72px)",width:"100%","allow-column-resizing":!0},{buttonsTemplate:a(({data:n})=>[l("a",{onClick:ce=>s.showDetail(n.data),style:{cursor:"pointer",color:"blue"}},[Z,O("\xA0Ver")],8,Y)]),createButton:a(()=>[e(c,{icon:"add",onClick:s.create,text:"Crear",type:"default"},null,8,["onClick"])]),refreshButton:a(()=>[e(c,{icon:"refresh",onClick:s.listAll},null,8,["onClick"])]),default:a(()=>[e(x,{visible:!0}),e(p,{visible:!0}),e(m,{visible:!0,width:240,placeholder:"Buscar..."}),e(_,{mode:"virtual"}),e(D,{visible:!0}),e(r,{width:"120","data-field":"name",caption:"Nombre","sort-order":"asc"}),e(r,{type:"buttons",width:110,"cell-template":"buttonsTemplate"}),e(h,null,{default:a(()=>[e(d,{location:"before",template:"createButton"}),e(d,{location:"after",template:"refreshButton"})]),_:1})]),_:1},8,["data-source"]),e(B,{visible:t.showPopup,"drag-enabled":!0,"hide-on-outside-click":!1,"show-close-button":!0,"show-title":!0,width:400,height:210,title:t.crudTitle,"on-hidden":s.onClosePopup},{default:a(()=>[e(v,{height:"calc(400px - 135px)"},{default:a(()=>[l("div",ee,[oe,l("div",te,[e(w,{modelValue:t.model.name,"onUpdate:modelValue":i[0]||(i[0]=n=>t.model.name=n)},null,8,["modelValue"])])]),l("div",le,[ae,l("div",se,[e(b,{modelValue:t.model.active,"onUpdate:modelValue":i[1]||(i[1]=n=>t.model.active=n)},null,8,["modelValue"])])])]),_:1}),e(g,{widget:"dxButton",toolbar:"bottom",location:"after",options:{text:"Guardar",type:"success",onClick:s.save}},null,8,["options"])]),_:1},8,["visible","title","on-hidden"])])}const fe=J(Q,[["render",ne]]);export{fe as default};
