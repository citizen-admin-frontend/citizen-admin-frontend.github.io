import{Y as E,U as b,t as U,af as h,b8 as w,av as F,bx as G,a9 as c,by as R,B as V,A as B,bz as P,bA as f}from"./index.35390bee.js";var D=["millisecond","second","minute","hour","day","week","month","quarter","year"],H=function e(t){switch(t){case"millisecond":return 1;case"second":return 1e3*e("millisecond");case"minute":return 60*e("second");case"hour":return 60*e("minute");case"day":return 24*e("hour");case"week":return 7*e("day");case"month":return 30*e("day");case"quarter":return 3*e("month");case"year":return 365*e("day");default:return 0}},$=function(e,t,r){var n=t.getTime()-e.getTime(),a=H(r)||1;return Math.floor(n/a)},J=function(e,t){var r=T(e);switch(r){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},S=function(e){var t,r,n,a=["millisecond","second","minute","hour","day","month","year"],u={};for(t=a.length-1;t>=0;t--)n=a[t],r=Math.floor(e/H(n)),r>0&&(u[n+"s"]=r,e-=d(n,r));return u},K=function(e){var t=0;return b(e)&&U(e,function(r,n){t+=d(r.substr(0,r.length-1),n)}),h(e)&&(t=d(e,1)),t};function d(e,t){return H(e)*t}function T(e){var t=-1,r;return h(e)?e:b(e)?(U(e,function(n,a){for(r=0;r<D.length;r++)a&&(n===D[r]+"s"||n===D[r])&&t<r&&(t=r)}),D[t]):""}var X={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function Z(e){return X[T(e)]||""}var z=function(e){return Math.floor(e/3)},k=function(e){return 3*z(e)};function q(e,t,r,n){e=new Date(e.getTime());var a=new Date(e.getTime()),u,v,i=T(t);switch(i){case"second":e=new Date(1e3*Math.floor(a.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(a.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(a.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":e=j(e,n||0),e.setHours(0,0,0,0);break;case"quarter":u=k(e.getMonth()),v=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),v!==u&&e.setMonth(u)}return r&&i!=="hour"&&i!=="minute"&&i!=="second"&&p(a,e),e}function C(e){return q(e,"day")}var _=function(e){var t=C(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},x=function(e,t){var r=0,n={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return U(n,function(a,u){u&&r++}),r===0&&N(e,t)!==0&&(n.hour=!0,r++),n.count=r,n};function W(e,t,r){var n=new Date(e.getTime()),a=h(t)?O(t.toLowerCase()):w(t)?S(t):t;return a.years&&n.setFullYear(n.getFullYear()+a.years*r),a.quarters&&n.setMonth(n.getMonth()+3*a.quarters*r),a.months&&n.setMonth(n.getMonth()+a.months*r),a.weeks&&n.setDate(n.getDate()+7*a.weeks*r),a.days&&n.setDate(n.getDate()+a.days*r),a.hours&&n.setTime(n.getTime()+36e5*a.hours*r),a.minutes&&n.setTime(n.getTime()+6e4*a.minutes*r),a.seconds&&n.setTime(n.getTime()+1e3*a.seconds*r),a.milliseconds&&n.setTime(n.getTime()+a.milliseconds*r),n}var L=function(e,t,r){var n=r?-1:1;return F(e)?W(e,t,n):G(e+t*n,t)},ee=function(e,t,r){var n=[],a;for(n.push(F(e)?new Date(e.getTime()):e),a=e;a<t;)a=L(a,r),n.push(a);return n},te=function(e,t){if(e==="month")return s(t.getFullYear(),t.getMonth(),1);if(e==="year")return s(t.getFullYear(),0,t.getDate());if(e==="decade")return s(M(t),t.getMonth(),t.getDate());if(e==="century")return s(y(t),t.getMonth(),t.getDate())},re=function(e,t){if(e==="month")return s(t.getFullYear(),t.getMonth(),Y(t));if(e==="year")return s(t.getFullYear(),11,t.getDate());if(e==="decade")return s(M(t)+9,t.getMonth(),t.getDate());if(e==="century")return s(y(t)+90,t.getMonth(),t.getDate())},ne=function(e,t){var r=s(t.getFullYear(),t.getMonth(),1);return e==="month"||(r.setMonth(0),e==="year")||(e==="decade"&&r.setFullYear(M(t)),e==="century"&&r.setFullYear(y(t))),r},ae=function(e,t){var r=new Date(t);return r.setDate(Y(t)),e==="month"||(r.setMonth(11),r.setDate(Y(r)),e==="year")||(e==="decade"&&r.setFullYear(M(t)+9),e==="century"&&r.setFullYear(y(t)+99)),r};function Y(e){var t=s(e.getFullYear(),e.getMonth()+1,0);return t.getDate()}var oe=function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},ie=function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},ue=function(e){var t=1;return e==="year"&&(t=12),e==="decade"&&(t=120),e==="century"&&(t=1200),t},se=function(e){var t=1;return e==="decade"&&(t=12),e==="century"&&(t=120),t};function O(e){var t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function ce(e,t){return I(e,t)&&e.getDate()===t.getDate()}function I(e,t){return A(e,t)&&e.getMonth()===t.getMonth()}function A(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}function ge(e,t){return e&&t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}var le=function(e,t){if(!(!c(e)||!c(t))){var r=e.getFullYear()-e.getFullYear()%10,n=t.getFullYear()-t.getFullYear()%10;return e&&t&&r===n}},fe=function(e,t){if(!(!c(e)||!c(t))){var r=e.getFullYear()-e.getFullYear()%100,n=t.getFullYear()-t.getFullYear()%100;return e&&t&&r===n}};function y(e){return e&&e.getFullYear()-e.getFullYear()%100}function M(e){return e&&e.getFullYear()-e.getFullYear()%10}var he=function(){return"yyyy/MM/dd"},me=function(e){if(!!c(e))return s(e.getFullYear(),e.getMonth(),1)},De=function(e){if(!!c(e))return s(e.getFullYear(),e.getMonth()+1,0)};function j(e,t){var r=(e.getDay()-t+7)%7,n=new Date(e);return n.setDate(e.getDate()-r),n}var ye=function(e,t){var r=l.getDatesInterval(e,t,"day"),n=new Date(e);return r>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},Me=function(e,t,r,n){return n==="date"&&(t=t&&l.correctDateWithUnitBeginning(t,"day"),r=r&&l.correctDateWithUnitBeginning(r,"day"),e=e&&l.correctDateWithUnitBeginning(e,"day")),Q(e,t,r)===e},ve=function(e){var{firstMin:t,firstMax:r,secondMin:n,secondMax:a}=e;return t<=n&&n<=r||t>n&&t<a||t<a&&r>a},Fe=function(e){var t=Math.floor(e),r=e%1*60;return{hours:t,minutes:r}},de=function(e,t){var r=this.dateTimeFromDecimal(t),n=new Date(e);return(e.getHours()===r.hours&&e.getMinutes()<r.minutes||e.getHours()<r.hours)&&n.setHours(r.hours,r.minutes,0,0),n};function Q(e,t,r){var n=e;return c(e)?(c(t)&&e<t&&(n=t),c(r)&&e>r&&(n=r),n):e}function p(e,t){if(!!c(e)){var r=t.getHours()-e.getHours();if(r!==0){var n=r===1||r===-23?-1:1,a=new Date(t.getTime()+36e5*n);(n>0||a.getDate()===t.getDate())&&t.setTime(a.getTime())}}}var Ye=function(e){var t=new Date(e.getTime());return t.setHours(t.getHours()+1),t.setMinutes(0),t};function N(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}var Te=function(e){return new Date(e)},we=function(e,t,r){for(var n=[],a=new Date(e.getTime());a<t;)n.push(new Date(a.getTime())),a=this.addInterval(a,r);return n},s=function(e){var t=new Date(...arguments);return t.setFullYear(e),t},l={dateUnitIntervals:D,convertMillisecondsToDateUnits:S,dateToMilliseconds:K,getNextDateUnit:J,convertDateUnitToMilliseconds:d,getDateUnitInterval:T,getDateFormatByTickInterval:Z,getDatesDifferences:x,correctDateWithUnitBeginning:q,trimTime:C,setToDayEnd:_,roundDateByStartDayHour:de,dateTimeFromDecimal:Fe,addDateInterval:W,addInterval:L,getSequenceByInterval:ee,getDateIntervalByString:O,sameHoursAndMinutes:ge,sameDate:ce,sameMonthAndYear:I,sameMonth:I,sameYear:A,sameDecade:le,sameCentury:fe,getDifferenceInMonth:ue,getDifferenceInMonthForCells:se,getFirstYearInDecade:M,getFirstDecadeInCentury:y,getShortDateFormat:he,getViewFirstCellDate:te,getViewLastCellDate:re,getViewDown:ie,getViewUp:oe,getLastMonthDay:Y,getLastMonthDate:De,getFirstMonthDate:me,getFirstWeekDate:j,normalizeDateByWeek:ye,getQuarter:z,getFirstQuarterMonth:k,dateInRange:Me,intervalsOverlap:ve,roundToHour:Ye,normalizeDate:Q,getViewMinBoundaryDate:ne,getViewMaxBoundaryDate:ae,fixTimezoneGap:p,getTimezonesDifference:N,makeDate:Te,getDatesInterval:$,getDatesOfInterval:we,createDateWithFullYear:s};l.sameView=function(e,t,r){return l[E("same "+e)](t,r)};const m=l,Ue=R({format:function(e,t){var r=h(t)&&t!==""||V(t)||B(t),n=w(e)||F(e);if(!r||!n)return c(e)?e.toString():"";if(B(t))return t(e);if(h(t)&&(t={type:t}),w(e))return P.format(e,t);if(F(e))return f.format(e,t)},getTimeFormat:function(e){return e?"longtime":"shorttime"},_normalizeFormat:function(e){return Array.isArray(e)?e.length===1?e[0]:function(t){return e.map(function(r){return f.format(t,r)}).join(" ")}:e},getDateFormatByDifferences:function(e,t){var r=[],n=t&&e.millisecond&&!(e.year||e.month||e.day);return n?r.push(function(a){return a.getSeconds()+a.getMilliseconds()/1e3+"s"}):e.millisecond&&r.push("millisecond"),(e.hour||e.minute||!n&&e.second)&&r.unshift(this.getTimeFormat(e.second)),e.year&&e.month&&e.day?t&&t==="month"?"monthandyear":(r.unshift("shortdate"),this._normalizeFormat(r)):e.year&&e.month?"monthandyear":e.year&&e.quarter?"quarterandyear":e.year?"year":e.quarter?"quarter":e.month&&e.day?(t?r.unshift(function(a){return f.getMonthNames("abbreviated")[a.getMonth()]+" "+f.format(a,"day")}):r.unshift("monthandday"),this._normalizeFormat(r)):e.month?"month":e.day?(t?r.unshift("day"):r.unshift(function(a){return f.format(a,"dayofweek")+", "+f.format(a,"day")}),this._normalizeFormat(r)):this._normalizeFormat(r)},getDateFormatByTicks:function(e){var t,r,n;if(e.length>1)for(t=m.getDatesDifferences(e[0],e[1]),n=1;n<e.length-1;n++)r=m.getDatesDifferences(e[n],e[n+1]),t.count<r.count&&(t=r);else t={year:!0,month:!0,day:!0,hour:e[0].getHours()>0,minute:e[0].getMinutes()>0,second:e[0].getSeconds()>0,millisecond:e[0].getMilliseconds()>0};var a=this.getDateFormatByDifferences(t);return a},getDateFormatByTickInterval:function(e,t,r){var n,a=function(i,g,o){switch(g){case"year":case"quarter":i.month=o;case"month":i.day=o;case"week":case"day":i.hour=o;case"hour":i.minute=o;case"minute":i.second=o;case"second":i.millisecond=o}};r=h(r)?r.toLowerCase():r;var u=m.getDatesDifferences(e,t);e!==t&&function(i,g,o){!o.getMilliseconds()&&o.getSeconds()?o.getSeconds()-g.getSeconds()===1&&(i.millisecond=!0,i.second=!1):!o.getSeconds()&&o.getMinutes()?o.getMinutes()-g.getMinutes()===1&&(i.second=!0,i.minute=!1):!o.getMinutes()&&o.getHours()?o.getHours()-g.getHours()===1&&(i.minute=!0,i.hour=!1):!o.getHours()&&o.getDate()>1?o.getDate()-g.getDate()===1&&(i.hour=!0,i.day=!1):o.getDate()===1&&o.getMonth()?o.getMonth()-g.getMonth()===1&&(i.day=!0,i.month=!1):!o.getMonth()&&o.getFullYear()&&o.getFullYear()-g.getFullYear()===1&&(i.month=!0,i.year=!1)}(u,e>t?t:e,e>t?e:t),n=m.getDateUnitInterval(u),a(u,n,!0),n=m.getDateUnitInterval(r||"second"),a(u,n,!1),u[{week:"day"}[n]||n]=!0;var v=this.getDateFormatByDifferences(u);return v}});export{m as d,Ue as f};
